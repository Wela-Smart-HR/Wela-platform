---
trigger: always_on
---

# üèóÔ∏è ‡∏Å‡∏é‡πÄ‡∏´‡∏•‡πá‡∏Å‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå Smart-HR (Architecture Rulebook)

‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡∏ô‡∏µ‡πâ‡∏Ñ‡∏∑‡∏≠‡∏Å‡∏é‡∏°‡∏≤‡∏ï‡∏£‡∏ê‡∏≤‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡πÇ‡∏Ñ‡πâ‡∏î‡πÉ‡∏ô‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå Smart-HR ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡πÇ‡∏Ñ‡πâ‡∏î‡πÄ‡∏õ‡πá‡∏ô‡∏£‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ö ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏á‡πà‡∏≤‡∏¢ ‡πÅ‡∏•‡∏∞‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏Ç‡∏¢‡∏≤‡∏¢‡∏ï‡∏±‡∏ß‡πÉ‡∏ô‡∏≠‡∏ô‡∏≤‡∏Ñ‡∏ï

## üåü ‡∏´‡∏•‡∏±‡∏Å‡∏Å‡∏≤‡∏£‡∏´‡∏±‡∏ß‡πÉ‡∏à‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç: Feature-based Architecture
‡πÄ‡∏£‡∏≤‡∏à‡∏∞‡∏à‡∏±‡∏î‡πÄ‡∏Å‡πá‡∏ö‡πÑ‡∏ü‡∏•‡πå‡∏ï‡∏≤‡∏° **"‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô" (What it does)** ‡πÅ‡∏ó‡∏ô‡∏ó‡∏µ‡πà‡∏à‡∏∞‡πÄ‡∏Å‡πá‡∏ö‡∏ï‡∏≤‡∏° **"‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡πÑ‡∏ü‡∏•‡πå" (What it is)**

---

## üìÇ ‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠‡∏Å‡∏≤‡∏£‡∏ß‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå (Folder Structure)

### 1. `src/features/` (üß† ‡∏™‡∏°‡∏≠‡∏á‡∏Ç‡∏≠‡∏á‡∏£‡∏∞‡∏ö‡∏ö)
**‡πÄ‡∏Å‡πá‡∏ö Logic ‡∏ò‡∏∏‡∏£‡∏Å‡∏¥‡∏à, ‡∏Å‡∏≤‡∏£‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì, ‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠ Database (API)**
‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå‡πÉ‡∏ô‡∏ô‡∏µ‡πâ‡∏à‡∏∞‡πÅ‡∏¢‡∏Å‡∏ï‡∏≤‡∏° "‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå" ‡∏Ç‡∏≠‡∏á‡∏£‡∏∞‡∏ö‡∏ö

- **‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á**:
  ```
  src/features/
  ‚îú‚îÄ‚îÄ attendance/          # ‡∏£‡∏∞‡∏ö‡∏ö‡∏•‡∏á‡πÄ‡∏ß‡∏•‡∏≤
  ‚îÇ   ‚îú‚îÄ‚îÄ attendance.repo.js    # ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠ Firestore/Database
  ‚îÇ   ‚îú‚îÄ‚îÄ useMyAttendance.js    # Hook ‡∏´‡∏•‡∏±‡∏Å (‡∏£‡∏ß‡∏° Logic ‡πÅ‡∏•‡∏∞ State)
  ‚îÇ   ‚îú‚îÄ‚îÄ gps.service.js        # ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏ä‡πà‡∏ß‡∏¢‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á GPS
  ‚îÇ   ‚îî‚îÄ‚îÄ ...
  ‚îú‚îÄ‚îÄ people/              # ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô
  ‚îú‚îÄ‚îÄ settings/            # ‡∏£‡∏∞‡∏ö‡∏ö‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó
  ‚îî‚îÄ‚îÄ ...
  ```
- **‡∏Å‡∏é‡πÄ‡∏´‡∏•‡πá‡∏Å**: ‡∏ñ‡πâ‡∏≤‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•, ‡∏Å‡∏≤‡∏£‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡πÄ‡∏á‡∏¥‡∏ô, ‡∏´‡∏£‡∏∑‡∏≠‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠ Server **‡∏ï‡πâ‡∏≠‡∏á‡∏≠‡∏¢‡∏π‡πà‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô**

### 2. `src/components/` (üé® ‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡∏≤ UI)
**‡πÄ‡∏Å‡πá‡∏ö‡∏ä‡∏¥‡πâ‡∏ô‡∏™‡πà‡∏ß‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠ ‡πÅ‡∏•‡∏∞ Widget ‡∏ï‡πà‡∏≤‡∏á‡πÜ**
‡πÄ‡∏ô‡πâ‡∏ô‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏ß‡∏¢‡∏á‡∏≤‡∏° ‡∏Å‡∏≤‡∏£‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏• ‡πÇ‡∏î‡∏¢‡∏°‡∏µ Logic ‡πÉ‡∏´‡πâ‡∏ô‡πâ‡∏≠‡∏¢‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î (‡∏£‡∏±‡∏ö‡∏Ñ‡πà‡∏≤ Props ‡∏°‡∏≤‡πÅ‡∏™‡∏î‡∏á)

- **Global Components**: `src/components/ui/` (‡∏õ‡∏∏‡πà‡∏°, ‡∏Å‡∏•‡πà‡∏≠‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°, Modal ‡∏Å‡∏•‡∏≤‡∏á)
- **Module Components**: `src/components/<‡∏ä‡∏∑‡πà‡∏≠‡πÇ‡∏°‡∏î‡∏π‡∏•>/` (Widget ‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏ó‡∏≤‡∏á)
  - ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á: `LocationPickerMap.jsx` ‡πÄ‡∏Å‡πá‡∏ö‡πÉ‡∏ô `src/components/admin/` ‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡πÄ‡∏õ‡πá‡∏ô UI ‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Admin
- **‡∏Å‡∏é‡πÄ‡∏´‡∏•‡πá‡∏Å**: ‡∏ñ‡πâ‡∏≤‡πÄ‡∏õ‡πá‡∏ô‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà "‡∏ï‡∏≤‡∏°‡∏≠‡∏á‡πÄ‡∏´‡πá‡∏ô" ‡∏´‡∏£‡∏∑‡∏≠ "‡∏Å‡∏î‡πÑ‡∏î‡πâ" ‡πÅ‡∏ï‡πà‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏ñ‡∏∑‡∏≠‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏≠‡∏á ‡πÉ‡∏´‡πâ‡πÄ‡∏Å‡πá‡∏ö‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà

### 3. `src/pages/` (üß© ‡∏Ñ‡∏ô‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö‡∏£‡πà‡∏≤‡∏á)
**‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠‡∏´‡∏•‡∏±‡∏Å‡∏ó‡∏µ‡πà‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á (‡∏ú‡πà‡∏≤‡∏ô URL)**
‡πÑ‡∏ü‡∏•‡πå‡πÉ‡∏ô‡∏ô‡∏µ‡πâ‡∏ï‡πâ‡∏≠‡∏á **‡∏™‡∏∞‡∏≠‡∏≤‡∏î** ‡πÄ‡∏ô‡πâ‡∏ô‡πÅ‡∏Ñ‡πà‡∏Å‡∏≤‡∏£‡∏ß‡∏≤‡∏á Layout

- **‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà**:
  1.  ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å **Hook** ‡∏à‡∏≤‡∏Å `features/` ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ç‡∏≠‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
  2.  ‡∏ô‡∏≥‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏õ‡πÉ‡∏™‡πà‡πÉ‡∏ô **Component** ‡∏à‡∏≤‡∏Å `components/`
  3.  ‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÇ‡∏ï‡πâ‡∏ï‡∏≠‡∏ö‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á 1 ‡πÅ‡∏•‡∏∞ 2
- **‡∏Å‡∏é‡πÄ‡∏´‡∏•‡πá‡∏Å**: ‚ùå **‡∏´‡πâ‡∏≤‡∏°** ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏¢‡∏≤‡∏ß‡πÜ ‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏£‡∏µ‡∏¢‡∏Å Firebase ‡πÇ‡∏î‡∏¢‡∏ï‡∏£‡∏á‡πÉ‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡∏ô‡∏µ‡πâ‡πÄ‡∏î‡πá‡∏î‡∏Ç‡∏≤‡∏î!

---

## üõë ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏£‡∏ó‡∏≥ ‡πÅ‡∏•‡∏∞ ‡∏Ç‡πâ‡∏≠‡∏´‡πâ‡∏≤‡∏° (Dos & Don'ts)

| ‚úÖ ‡∏Ñ‡∏ß‡∏£‡∏ó‡∏≥ (Do) | ‚ùå ‡∏´‡πâ‡∏≤‡∏°‡∏ó‡∏≥ (Don't) |
| :--- | :--- |
| **‡∏™‡∏£‡πâ‡∏≤‡∏á Hook ‡πÉ‡∏´‡∏°‡πà** ‡πÉ‡∏ô `features/` ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏°‡∏µ Logic ‡∏ã‡∏±‡∏ö‡∏ã‡πâ‡∏≠‡∏ô | ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô `useEffect` ‡∏î‡∏∂‡∏á Database ‡∏¢‡∏≤‡∏ß‡πÜ ‡πÉ‡∏ô‡πÑ‡∏ü‡∏•‡πå `Page.jsx` |
| **‡πÅ‡∏¢‡∏Å Component** ‡πÄ‡∏°‡∏∑‡πà‡∏≠ UI ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏¢‡∏≤‡∏ß‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ | ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô HTML/JSX ‡∏¢‡∏≤‡∏ß 200 ‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î‡πÉ‡∏ô‡πÑ‡∏ü‡∏•‡πå‡πÄ‡∏î‡∏µ‡∏¢‡∏ß |
| **‡πÉ‡∏´‡πâ Page ‡πÄ‡∏õ‡πá‡∏ô‡πÅ‡∏Ñ‡πà‡∏Ñ‡∏ô‡∏õ‡∏£‡∏∞‡∏™‡∏≤‡∏ô‡∏á‡∏≤‡∏ô** | ‡πÉ‡∏´‡πâ Page ‡∏ñ‡∏∑‡∏≠ State ‡πÅ‡∏•‡∏∞ Logic ‡∏ó‡∏∏‡∏Å‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏ß‡πâ‡∏Ñ‡∏ô‡πÄ‡∏î‡∏µ‡∏¢‡∏ß |

## üí° ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏à‡∏£‡∏¥‡∏á: ‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏£‡∏∞‡∏ö‡∏ö "‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏à‡∏∏‡∏î‡∏ö‡∏ô‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà"

1.  **Logic (‡∏™‡∏°‡∏≠‡∏á)**:
    - ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å `useSettings` ‡πÉ‡∏ô `features/settings/` ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡πá‡∏ö‡∏Ñ‡πà‡∏≤ `location`
2.  **UI (‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡∏≤)**:
    - ‡∏™‡∏£‡πâ‡∏≤‡∏á `LocationPickerMap.jsx` ‡πÉ‡∏ô `components/admin/`
    - ‡∏ó‡∏≥‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡πÅ‡∏Ñ‡πà‡πÅ‡∏™‡∏î‡∏á‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà ‡πÅ‡∏•‡∏∞‡∏™‡πà‡∏á‡∏Ñ‡πà‡∏≤‡∏û‡∏¥‡∏Å‡∏±‡∏î‡∏Å‡∏•‡∏±‡∏ö‡πÄ‡∏°‡∏∑‡πà‡∏≠ user ‡∏Å‡∏î‡πÄ‡∏•‡∏∑‡∏≠‡∏Å (`onConfirm`)
3.  **Page (‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö‡∏£‡πà‡∏≤‡∏á)**:
    - ‡πÉ‡∏ô‡∏´‡∏ô‡πâ‡∏≤ `Settings.jsx` (Page) ‡∏î‡∏∂‡∏á‡∏ó‡∏±‡πâ‡∏á 2 ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏°‡∏≤‡πÄ‡∏à‡∏≠‡∏Å‡∏±‡∏ô
    - ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡πÇ‡∏Ñ‡πâ‡∏î‡∏™‡∏±‡πâ‡∏ô‡πÜ: `<LocationPickerMap onConfirm={saveLocation} />`

---

*Verified & Standardized: February 2026*
